# from src.config import SPEECH_KEY, SPEECH_REGION
# import azure.cognitiveservices.speech as speechsdk

# speech_config = speechsdk.SpeechConfig(subscription=SPEECH_KEY, region=SPEECH_REGION)
# file_config = speechsdk.audio.AudioOutputConfig(use_default_speaker=True)

# speech_synthesizer = speechsdk.SpeechSynthesizer(speech_config=speech_config, audio_config=file_config)

# text = """
#     <speak version="1.0" xmlns="http://www.w3.org/2001/10/synthesis" xmlns:mstts="https://www.w3.org/2001/mstts" xml:lang="en-US">
#         <voice name="en-US-JennyNeural">
#             <mstts:express-as style="narration-relaxed" >
#                 Bhagavad-gita is the widely read theistic science summarized in the Gita-mahatmya. There it says that one should read Bhagavad-gita very scrutinizingly with the help of a person who is a devotee of Sri Krsna and try to understand it without personally motivated interpretations. The example of clear understanding is there in the Bhagavad-gita itself, in the way the teaching is understood by Arjuna, who heard the Gita directly from the Lord. If someone is fortunate enough to understand Bhagavad-gita in that line of disciplic succession, without motivated interpretation, then he surpasses all studies of Vedic wisdom, and all scriptures of the world.          
#             </mstts:express-as>
#         </voice>
#     </speak>""" 

# ## Calling the Speech Sythesizer 
# result = speech_synthesizer.speak_ssml_async(ssml=text).get()


    
    
def chunk_text(text, num_words_per_chunk=50):
    list_of_chunks = []
    words = text.split()
    chunk_str = ""

    for word in words:
        chunk_str += word + " "  # Add the word and a space to separate words
        if len(chunk_str.split()) >= num_words_per_chunk:
            list_of_chunks.append(chunk_str.strip())  # Remove trailing space before adding to list
            chunk_str = ""

    # Append any remaining words to the last chunk
    if chunk_str:
        list_of_chunks.append(chunk_str.strip())

    return list_of_chunks

text = "Bhagavad-gita is the widely read theistic science summarized in the Gita-mahatmya (Glorification of the Gita). There it says that one should read Bhagavad-gita very scrutinizingly with the help of a person who is a devotee of Sri Krsna and try to understand it without personally motivated interpretations. The example of clear understanding is there in the Bhagavad-gita itself, in the way the teaching is understood by Arjuna, who heard the Gita directly from the Lord. If someone is fortunate enough to understand Bhagavad-gita in that line of disciplic succession, without motivated interpretation, then he surpasses all studies of Vedic wisdom, and all scriptures of the world. One will find in the Bhagavad-gita all that is contained in other scriptures, but the reader will also find things which are not to be found elsewhere. That is the specific standard of the Gita. It is the perfect theistic science because it is directly spoken by the Supreme Personality of Godhead, Lord Sri Krsna.The topics discussed by Dhrtarastra and Sanjaya, as described in the Mahabharata, form the basic principle for this great philosophy. It is understood that this philosophy evolved on the Battlefield of Kuruksetra, which is a sacred place of pilgrimage from the immemorial time of the Vedic age. It was spoken by the Lord when He was present personally on this planet for the guidance of mankind.The word dharma-ksetra (a place where religious rituals are performed) is significant because, on the Battlefield of Kuruksetra, the Supreme Personality of Godhead was present on the side of Arjuna. Dhrtarastra, the father of the Kurus, was highly doubtful about the possibility of his sons' ultimate victory. In his doubt, he inquired from his secretary Sanjaya, What did my sons and the sons of Pandu do? He was confident that both his sons and the sons of his younger brother Pandu were assembled in that Field of Kuruksetra for a determined engagement of the war. Still, his inquiry is significant. He did not want a compromise between the cousins and brothers, and he wanted to be sure of the fate of his sons on the battlefield. Because the battle was arranged to be fought at Kuruksetra, which is mentioned elsewhere in the Vedas as a place of worship—even for the denizens of heaven—Dhrtarastra became very fearful about the influence of the holy place on the outcome of the battle. He knew very well that this would influence Arjuna and the sons of Pandu favorably, because by nature they were all virtuous. Sanjaya was a student of Vyasa, and therefore, by the mercy of Vyasa, Sanjaya was able to envision the Battlefield of Kuruksetra even while he was in the room of Dhrtarastra. And so, Dhrtarastra asked him about the situation on the battlefield.Both the Pandavas and the sons of Dhrtarastra belong to the same family, but Dhrtarastra's mind is disclosed herein. He deliberately claimed only his sons as Kurus, and he separated the sons of Pandu from the family heritage. One can thus understand the specific position of Dhrtarastra in his relationship with his nephews, the sons of Pandu. As in the paddy field the unnecessary plants are taken out, so it is expected from the very beginning of these topics that in the religious field of Kuruksetra where the father of religion, Sri Krsna, was present, the unwanted plants like Dhrtarastra's son Duryodhana and others would be wiped out and the thoroughly religious persons, headed by Yudhisthira, would be established by the Lord. This is the significance of the words dharma-ksetre and kuru-ksetre, apart from their historical and Vedic importance.Dhrtarastra was blind from birth. Unfortunately, he was also bereft of spiritual vision. He knew very well that his sons were equally blind in the matter of religion, and he was sure that they could never reach an understanding with the Pandavas, who were all pious since birth. Still he was doubtful about the influence of the place of pilgrimage, and Sanjaya could understand his motive in asking about the situation on the battlefield. He wanted, therefore, to encourage the despondent King, and thus he warned him that his sons were not going to make any sort of compromise under the influence of the holy place. Sanjaya therefore informed the King that his son, Duryodhana, after seeing the military force of the Pandavas, at once went to the commander-in-chief, Dronacarya, to inform him of the real position. Although Duryodhana is mentioned as the king, he still had to go to the commander on account of the seriousness of the situation. He was therefore quite fit to be a politician. But Duryodhana's diplomatic veneer could not disguise the fear he felt when he saw the military arrangement of the Pandavas.Duryodhana, a great diplomat, wanted to point out the defects of Dronacarya, the great brahmana commander-in-chief. Dronacarya had some political quarrel with King Drupada, the father of Draupadi, who was Arjuna's wife. As a result of this quarrel, Drupada performed a great sacrifice, by which he received the benediction of having a son who would be able to kill Dronacarya. Dronacarya knew this perfectly well, and yet, as a liberal brahmana, he did not hesitate to impart all his military secrets when the son of Drupada, Dhrstadyumna, was entrusted to him for military education. Now, on the Battlefield of Kuruksetra, Dhrstadyumna took the side of the Pandavas, and it was he who arranged for their military phalanx, after having learned the art from Dronacarya. Duryodhana pointed out this mistake of Dronacarya's so that he might be alert and uncompromising in the fighting. By this he wanted to point out also that he should not be similarly lenient in battle against the Pandavas, who were also Dronacarya's affectionate students. Arjuna, especially, was his most affectionate and brilliant student. Duryodhana also warned that such leniency in the fight would lead to defeat.Even though Dhrstadyumna was not a very important obstacle in the face of Dronacarya's very great power in the military art, there were many others who were the cause of fear. They are mentioned by Duryodhana as great stumbling blocks on the path of victory because each and every one of them was as formidable as Bhima and Arjuna. He knew the strength of Bhima and Arjuna, and thus he compared the others with them.Duryodhana mentioned the exceptional heroes in the battle, all of whom are ever-victorious. Vikarna is the brother of Duryodhana, Asvatthama is the son of Dronacarya, and Saumadatti, or Bhurisrava, is the son of the King of the Bahlikas. Karna is the half brother of Arjuna, as he was born of Kunti before her marriage with King Pandu. Krpacarya married the twin sister of Dronacarya.As far as the others are concerned—like Jayadratha, Krtavarma, Salya, etc.—all are determined to lay down their lives for Duryodhana's sake. In other words, it is already concluded that all of them would die in the Battle of Kuruksetra for joining the party of the sinful Duryodhana. Duryodhana was, of course, confident of his victory on account of the above-mentioned combined strength of his friends.Herein an estimation of comparative strength is made by Duryodhana. He thinks that the strength of his armed forces is immeasurable, being specifically protected by the most experienced general, Grandfather Bhisma. On the other hand, the forces of the Pandavas are limited, being protected by a less experienced general, Bhima, who is like a fig in the presence of Bhisma. Duryodhana was always envious of Bhima because he knew perfectly well that if he should die at all, he would only be killed by Bhima. But at the same time, he was confident of his victory on account of the presence of Bhisma, who was a far superior general. His conclusion that he would come out of the battle victorious was well ascertained.Duryodhana, after praising the prowess of Bhisma, further considered that others might think that they had been considered less important, so in his usual diplomatic way, he tried to adjust the situation in the above words. He emphasized that Bhismadeva was undoubtedly the greatest hero, but he was an old man, so everyone must especially think of his protection from all sides. He might become engaged in the fight, and the enemy might take advantage of his full engagement on one side. Therefore, it was important that other heroes would not leave their strategic positions and allow the enemy to break the phalanx. Duryodhana clearly felt that the victory of the Kurus depended on the presence of Bhismadeva. He was confident of the full support of Bhismadeva and Dronacarya in the battle because he well knew that they did not even speak a word when Arjuna's wife Draupadi, in her helpless condition, had appealed to them for justice while she was being forced to strip naked in the presence of all the great generals in the assembly. Although he knew that the two generals had some sort of affection for the Pandavas, he hoped that all such affection would now be completely given up by them, as was customary during the gambling performances.The grandsire of the Kuru dynasty could understand the inner meaning of the heart of his grandson Duryodhana, and out of his natural compassion for him he tried to cheer him by blowing his conchshell very loudly, befitting his position as a lion. Indirectly, by the symbolism of the conchshell, he informed his depressed grandson Duryodhana that he had no chance of victory in the battle, because the Supreme Lord Krsna was on the other side. But still, it was his duty to conduct the fight, and no pains would be spared in that connection."

text_chunk = chunk_text(text)
print(len(text_chunk))